<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>webpack - SummlBlog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="SummlBlog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="SummlBlog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="webpack的基本使用什么是 webpack概念：webpack 是前端项目工程化的具体解决方案。"><meta property="og:type" content="blog"><meta property="og:title" content="webpack"><meta property="og:url" content="https://summl.github.io/2022/07/29/webpack/"><meta property="og:site_name" content="SummlBlog"><meta property="og:description" content="webpack的基本使用什么是 webpack概念：webpack 是前端项目工程化的具体解决方案。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://summl.github.io/gallery/webpack/%E5%9B%BE1.jpg"><meta property="article:published_time" content="2022-07-29T09:47:29.000Z"><meta property="article:modified_time" content="2022-07-29T09:54:16.905Z"><meta property="article:author" content="Summl"><meta property="article:tag" content="webpack"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/gallery/webpack/%E5%9B%BE1.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://summl.github.io/2022/07/29/webpack/"},"headline":"webpack","image":["https://summl.github.io/gallery/webpack/%E5%9B%BE1.jpg"],"datePublished":"2022-07-29T09:47:29.000Z","dateModified":"2022-07-29T09:54:16.905Z","author":{"@type":"Person","name":"Summl"},"publisher":{"@type":"Organization","name":"SummlBlog","logo":{"@type":"ImageObject","url":{"text":"SummlBlog"}}},"description":"webpack的基本使用什么是 webpack概念：webpack 是前端项目工程化的具体解决方案。"}</script><link rel="canonical" href="https://summl.github.io/2022/07/29/webpack/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">SummlBlog</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/Summl"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="/gallery/webpack/%E5%9B%BE1.jpg" alt="webpack"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-07-29T09:47:29.000Z" title="2022/7/29 17:47:29">2022-07-29</time>发表</span><span class="level-item"><time dateTime="2022-07-29T09:54:16.905Z" title="2022/7/29 17:54:16">2022-07-29</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/webpack/">webpack</a></span><span class="level-item">25 分钟读完 (大约3782个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">webpack</h1><div class="content"><h1 id="webpack的基本使用"><a href="#webpack的基本使用" class="headerlink" title="webpack的基本使用"></a>webpack的基本使用</h1><h2 id="什么是-webpack"><a href="#什么是-webpack" class="headerlink" title="什么是 webpack"></a>什么是 webpack</h2><p><strong>概念</strong>：<strong>webpack</strong> 是前端项目工程化的具体解决方案。</p>
<span id="more"></span>

<p><strong>主要功能：</strong>它提供了友好的前端模块化开发支持，以及代码压缩混淆、处理浏览器端 <strong>JavaScript</strong> 的兼容性、性</p>
<p>能优化等强大的功能。</p>
<p><strong>好处</strong>：让程序员把工作的重心放到<strong>具体功能</strong>的实现上，提高了前端开发效率和项目的可维护性。</p>
<p><strong>注意</strong>：目前 <strong>Vue</strong>，<strong>React</strong> 等前端项目，基本上都是基于 <strong>webpack</strong> 进行工程化开发的。</p>
<h2 id="创建列表隔行变色项目"><a href="#创建列表隔行变色项目" class="headerlink" title="创建列表隔行变色项目"></a><strong>创建列表隔行变色项目</strong></h2><p>① 新建项目空白目录，并运行 <code>npm init –y</code> 命令，初始化包管理配置文件 <code>package.json</code></p>
<p>② 新建 <code>src</code> 源代码目录</p>
<p>③ 新建 src -&gt; <code>index.html</code> 首页和 src -&gt; <code>index.js</code> 脚本文件</p>
<p>④ 初始化首页基本的结构</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ul&gt;li&#123;这是第 $ 个 li&#125;*9</span><br><span class="line">//再回车，生成</span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第 1 个 li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第 2 个 li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第 3 个 li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第 4 个 li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第 5 个 li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第 6 个 li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第 7 个 li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第 8 个 li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第 9 个 li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>⑤ 运行 <code>npm install jquery –S</code> 命令，安装 <strong>jQuery</strong>   ( -S 是 –save 的缩写 ，表示安装在<code>dependencies</code>，开发和上线都需要)</p>
<p>⑥ 通过 <strong>ES6 模块化</strong>的方式导入 <strong>jQuery</strong>，实现列表隔行变色效果</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">&#x27;jquery&#x27;</span></span><br></pre></td></tr></table></figure>



<h2 id="在项目中安装-webpack"><a href="#在项目中安装-webpack" class="headerlink" title="在项目中安装 webpack"></a><strong>在项目中安装 webpack</strong></h2><p>在终端运行如下的命令，安装 webpack 相关的两个包：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack@5.42.1 webpack-cli@4.7.2 -D </span><br></pre></td></tr></table></figure>

<p> ( -D 是 –save-dev 的缩写 ，表示安装在<code>devDependencies</code>，仅开发需要的工具)</p>
<h2 id="在项目中配置-webpack"><a href="#在项目中配置-webpack" class="headerlink" title="在项目中配置 webpack"></a><strong>在项目中配置 webpack</strong></h2><p>① 在项目根目录中，创建名为 <code>webpack.config.js</code> 的 <code>webpack</code> 配置文件，并初始化如下的基本配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 Node.js 中的导出语法，向外导出一个 webpack 的配置对象</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>  <span class="comment">//mode 用来指定构建模式。可选值有 development（开发，打包速度快） 和 production（上线，体积小）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>② 在 <code>package.json</code> 的 <code>scripts</code> 节点下，新增 <code>dev</code> 脚本如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p>③ 在终端中运行 <code>npm run dev</code> 命令，启动 <code>webpack</code> 进行项目的打包构建</p>
<h3 id="mode-的可选值"><a href="#mode-的可选值" class="headerlink" title="mode 的可选值"></a><strong>mode 的可选值</strong></h3><p>mode 节点的可选值有两个，分别是：</p>
<h4 id="①-development"><a href="#①-development" class="headerlink" title="① development"></a>① development</h4><ul>
<li><strong>开发环境</strong></li>
<li>不会对打包生成的文件进行代码压缩和性能优化</li>
<li><strong>打包速度快</strong>，适合在开发阶段使用</li>
</ul>
<h4 id="②-production"><a href="#②-production" class="headerlink" title="② production"></a>② production</h4><ul>
<li><strong>生产环境</strong></li>
<li>会对打包生成的文件进行<strong>代码压缩</strong>和<strong>性能优化</strong></li>
<li>打包速度很慢，仅适合在项目发布阶段使用</li>
</ul>
<h3 id="webpack-config-js-文件的作用"><a href="#webpack-config-js-文件的作用" class="headerlink" title="webpack.config.js 文件的作用"></a><strong>webpack.config.js 文件的作用</strong></h3><p> <code>webpack.config.js</code> 是 <code>webpack</code> 的配置文件。<code>webpack</code> 在真正开始打包构建之前，会先读取这个配置文件，从而基于给定的配置，对项目进行打包。</p>
<p>注意：由于 <code>webpack</code> 是基于 <code>node.js</code> 开发出来的打包工具，因此在它的配置文件中，支持使用 <code>node.js</code> 相关的语法和模块进行 <code>webpack</code> 的个性化配置。</p>
<h3 id="webpack-中的默认约定"><a href="#webpack-中的默认约定" class="headerlink" title="webpack 中的默认约定"></a><strong>webpack 中的默认约定</strong></h3><p>在 webpack 4.x 和 5.x 的版本中，有如下的默认约定：</p>
<ul>
<li>默认的打包入口文件为 <code>src</code> -&gt; <code>index.js</code></li>
<li>默认的输出文件路径为 <code>dist</code> -&gt; <code>main.js</code></li>
</ul>
<p>注意：可以在 <code>webpack.config.js</code> 中修改打包的默认约定</p>
<h3 id="自定义打包的入口与出口"><a href="#自定义打包的入口与出口" class="headerlink" title="自定义打包的入口与出口"></a><strong>自定义打包的入口与出口</strong></h3><p>在 <code>webpack.config.js</code> 配置文件中，通过 <code>entry</code> 节点指定打包的入口。通过 <code>output</code> 节点指定打包的出口。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>) <span class="comment">// 导入 node.js 中专门操作路径的模块</span></span><br><span class="line"><span class="comment">// 使用 Node.js 中的导出语法，向外导出一个 webpack 的配置对象</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>:path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;./src/index.js&#x27;</span>), <span class="comment">// 打包入口文件的路径</span></span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;./dist&#x27;</span>), <span class="comment">// 输出文件的存放路径</span></span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;main.js&#x27;</span> <span class="comment">// 输出文件的名称</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="webpack-中的插件"><a href="#webpack-中的插件" class="headerlink" title="webpack 中的插件"></a><strong>webpack 中的插件</strong></h2><h3 id="webpack-插件的作用"><a href="#webpack-插件的作用" class="headerlink" title="webpack 插件的作用"></a><strong>webpack 插件的作用</strong></h3><p>通过安装和配置第三方的插件，可以拓展 <code>webpack</code> 的能力，从而让 <code>webpack</code> 用起来更方便。最常用的</p>
<p><code>webpack</code> 插件有如下两个：</p>
<p><strong>webpack-dev-server</strong></p>
<ul>
<li>类似于 <code>node.js</code> 阶段用到的 <code>nodemon</code> 工具</li>
<li>每当修改了源代码，<code>webpack</code> 会自动进行项目的打包和构建</li>
</ul>
<p><strong>html-webpack-plugin</strong></p>
<ul>
<li><code>webpack</code> 中的 HTML 插件（类似于一个模板引擎插件）</li>
<li>可以通过此插件自定制 <code>index.html</code> 页面的内容</li>
</ul>
<h3 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a><strong>webpack-dev-server</strong></h3><p><code>webpack-dev-server</code> 可以让 <code>webpack</code> <strong>监听项目源代码的变化</strong>，从而进行<strong>自动打包构建</strong>。</p>
<h4 id="安装-webpack-dev-server"><a href="#安装-webpack-dev-server" class="headerlink" title="安装 webpack-dev-server"></a><strong>安装 webpack-dev-server</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-dev-server@3.11.2 -D</span><br></pre></td></tr></table></figure>

<h4 id="配置-webpack-dev-server"><a href="#配置-webpack-dev-server" class="headerlink" title="配置 webpack-dev-server"></a><strong>配置 webpack-dev-server</strong></h4><p>① 修改 <code>package.json</code> -&gt; <code>scripts</code> 中的 <code>dev</code> 命令如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack serve&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p>② 再次运行 <code>npm run dev</code> 命令，重新进行项目的打包</p>
<p>③ 在浏览器中访问 <code>http://localhost:8080</code> 地址，查看自动打包效果</p>
<h4 id="打包生成的文件哪儿去了？"><a href="#打包生成的文件哪儿去了？" class="headerlink" title="打包生成的文件哪儿去了？"></a><strong>打包生成的文件哪儿去了？</strong></h4><p>① 不配置 <code>webpack-dev-server</code> 的情况下，<code>webpack</code> 打包生成的文件，会存放到实际的物理磁盘上</p>
<ul>
<li>严格遵守开发者在 <code>webpack.config.js</code> 中指定配置</li>
<li>根据 <code>output</code> 节点指定路径进行存放</li>
</ul>
<p>② 配置了 <code>webpack-dev-server</code> 之后，打包生成的文件存放到了<code>内存</code>中</p>
<ul>
<li>不再根据 <code>output</code> 节点指定的路径，存放到实际的物理磁盘上</li>
<li>提高了实时打包输出的性能，因为内存比物理磁盘速度快很多</li>
</ul>
<h4 id="生成到内存中的文件该如何访问？"><a href="#生成到内存中的文件该如何访问？" class="headerlink" title="生成到内存中的文件该如何访问？"></a><strong>生成到内存中的文件该如何访问？</strong></h4><p><code>webpack-dev-server</code> 生成到内存中的文件，默认放到了<strong>项目的根目录</strong>中，而且是虚拟的、不可见的。 </p>
<ul>
<li>可以直接用 <code>/</code> 表示项目根目录，后面跟上要访问的文件名称，即可访问内存中的文件</li>
<li>例如 <code>/bundle.js</code> 就表示要访问 <code>webpack-dev-server</code> 生成到内存中的 <code>bundle.js</code> 文件</li>
</ul>
<h3 id="html-webpack-plugin"><a href="#html-webpack-plugin" class="headerlink" title="html-webpack-plugin"></a><strong>html-webpack-plugin</strong></h3><p><code>html-webpack-plugin</code> 是 <code>webpack</code> 中的 HTML 插件，可以通过此插件自定制 <code>index.html</code> 页面的内容。</p>
<p>通过 <code>html-webpack-plugin</code> 插件，将 src 目录下的 <code>index.html</code> 首页，复制到项目根目录中一份！即可在根目录下打开 <code>index.html</code> 页面</p>
<h4 id="安装-html-webpack-plugin"><a href="#安装-html-webpack-plugin" class="headerlink" title="安装 html-webpack-plugin"></a><strong>安装 html-webpack-plugin</strong></h4><p>运行如下的命令，即可在项目中安装此插件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin@5.3.2 -D</span><br></pre></td></tr></table></figure>

<h4 id="配置-html-webpack-plugin"><a href="#配置-html-webpack-plugin" class="headerlink" title="配置 html-webpack-plugin"></a><strong>配置 html-webpack-plugin</strong></h4><p>修改 <code>package.json</code>文件</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入 html-webpack-plugin 这个插件，得到插件的构造函数</span></span><br><span class="line">const HtmlPlugin = require(&#x27;html-webpack-plugin&#x27;)</span><br><span class="line"><span class="comment">// new 构造函数，创建插件的实例对象</span></span><br><span class="line">const htmlPlugin = new HtmlPlugin(<span class="punctuation">&#123;</span></span><br><span class="line">    template<span class="punctuation">:</span> &#x27;./src/index.html&#x27;<span class="punctuation">,</span> <span class="comment">// 原文件路径和文件名</span></span><br><span class="line">    filename<span class="punctuation">:</span> &#x27;./index.html&#x27;  <span class="comment">// 指定复制到的文件路径和文件名</span></span><br><span class="line"><span class="punctuation">&#125;</span>)</span><br><span class="line"></span><br><span class="line">module.exports = <span class="punctuation">&#123;</span></span><br><span class="line">	mode<span class="punctuation">:</span> &#x27;development&#x27;<span class="punctuation">,</span></span><br><span class="line">    plugins<span class="punctuation">:</span> <span class="punctuation">[</span>htmlPlugin<span class="punctuation">]</span><span class="punctuation">,</span> <span class="comment">// 插件的数组，通过plugins节点，使htmlPlugin插件生效</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="解惑-html-webpack-plugin不需要导入js文件"><a href="#解惑-html-webpack-plugin不需要导入js文件" class="headerlink" title="解惑 html-webpack-plugin不需要导入js文件"></a><strong>解惑 html-webpack-plugin不需要导入js文件</strong></h4><p>① 通过 HTML 插件复制到项目根目录中的 <code>index.html</code> 页面，也被放到了内存中</p>
<p>② HTML 插件在生成的 <code>index.html</code> 页面，自动注入了同级目录下打包的 <code>bundle.js</code> 文件</p>
<h3 id="devServer-节点"><a href="#devServer-节点" class="headerlink" title="devServer 节点"></a><strong>devServer 节点</strong></h3><p>在 <code>webpack.config.js</code> 配置文件中，可以通过 <code>devServer</code> 节点对 webpack-dev-server 插件进行更多的配置，</p>
<p>示例代码如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">module.exports = <span class="punctuation">&#123;</span></span><br><span class="line">	devServer<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        open<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span> <span class="comment">// 初次完成打包后，自动打开默认浏览器</span></span><br><span class="line">        host<span class="punctuation">:</span> &#x27;<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>&#x27;<span class="punctuation">,</span> <span class="comment">// 运行的主机地址</span></span><br><span class="line">        port<span class="punctuation">:</span> <span class="number">80</span><span class="punctuation">,</span> <span class="comment">// 打包的端口号</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>注意：凡是修改了 <code>webpack.config.js</code> 配置文件，或修改了 <code>package.json</code> 配置文件，必须<strong>重启</strong>实时打包的服</p>
<p>务器，否则最新的配置文件无法生效！</p>
<h1 id="webpack-中的-loader"><a href="#webpack-中的-loader" class="headerlink" title="webpack 中的 loader"></a><strong>webpack 中的 loader</strong></h1><h2 id="loader-概述"><a href="#loader-概述" class="headerlink" title="loader 概述"></a><strong>loader 概述</strong></h2><p>在实际开发过程中，<code>webpack</code> 默认只能打包处理以 <code>.js</code> 后缀名结尾的模块。其他<code>非 .js</code> 后缀名结尾的模块，</p>
<p><code>webpack</code> 默认处理不了，需要调用 <code>loader</code> 加载器才可以正常打包，否则会报错！</p>
<p><code>loader</code> 加载器的作用：协助 webpack 打包处理特定的文件模块。比如：</p>
<ul>
<li><code>css-loader</code> 可以打包处理 <code>.css</code> 相关的文件</li>
<li><code>less-loader</code> 可以打包处理 <code>.less</code> 相关的文件</li>
<li><code>babel-loader</code> 可以打包处理 <code>webpack</code> 无法处理的<code>高级 JS 语法</code></li>
</ul>
<h2 id="打包处理-css-文件"><a href="#打包处理-css-文件" class="headerlink" title="打包处理 css 文件"></a><strong>打包处理 css 文件</strong></h2><p>① 运行 <code>npm i style-loader@3.0.0 css-loader@5.2.6 -D</code> 命令，安装处理 css 文件的 loader</p>
<p>② 在 <code>webpack.config.js</code> 的 <code>module -&gt; rules</code> 数组中，添加 loader 规则如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">module<span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="comment">// 所有第三方文件模块的匹配规则</span></span><br><span class="line">    rules<span class="punctuation">:</span> <span class="punctuation">[</span> <span class="comment">// 文件后缀名的匹配规则</span></span><br><span class="line">        <span class="punctuation">&#123;</span> test<span class="punctuation">:</span> /\.css$/<span class="punctuation">,</span> use<span class="punctuation">:</span> <span class="punctuation">[</span>&#x27;style-loader&#x27;<span class="punctuation">,</span> &#x27;css-loader&#x27;<span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>其中，<code>test</code> 表示<strong>匹配的文件类型</strong>， <code>use</code> 表示<strong>对应要调用的 loader</strong></p>
<p>注意：</p>
<ul>
<li>use 数组中指定的 loader <strong>顺序是固定的</strong></li>
<li>多个 loader 的调用顺序是：<strong>从后往前调用</strong></li>
</ul>
<h2 id="打包处理-less-文件"><a href="#打包处理-less-文件" class="headerlink" title="打包处理 less 文件"></a><strong>打包处理 less 文件</strong></h2><p>① 运行 <code>npm i less-loader@10.0.1 less@4.1.1 -D</code> 命令</p>
<p>② 在 <code>webpack.config.js</code> 的 <code>module -&gt; rules</code> 数组中，添加 <code>loader</code> 规则如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">module<span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="comment">// 所有第三方文件模块的匹配规则</span></span><br><span class="line">    rules<span class="punctuation">:</span> <span class="punctuation">[</span> <span class="comment">// 文件后缀名的匹配规则</span></span><br><span class="line">        <span class="punctuation">&#123;</span> test<span class="punctuation">:</span> /\.less$/<span class="punctuation">,</span> use<span class="punctuation">:</span> <span class="punctuation">[</span>&#x27;style-loader&#x27;<span class="punctuation">,</span> &#x27;css-loader&#x27;<span class="punctuation">,</span> &#x27;less-loader&#x27;<span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="打包处理样式表中与-url-路径相关的文件"><a href="#打包处理样式表中与-url-路径相关的文件" class="headerlink" title="打包处理样式表中与 url 路径相关的文件"></a><strong>打包处理样式表中与</strong> <strong>url 路径相关</strong>的文件</h2><p>① 运行 <code>npm i url-loader@4.1.1 file-loader@6.2.0 -D</code> 命令</p>
<p>② 在 <code>webpack.config.js</code> 的 <code>module -&gt; rules</code> 数组中，添加 <code>loader</code> 规则如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">module<span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="comment">// 所有第三方文件模块的匹配规则</span></span><br><span class="line">        rules<span class="punctuation">:</span> <span class="punctuation">[</span> <span class="comment">// 文件后缀名的匹配规则</span></span><br><span class="line">            <span class="punctuation">&#123;</span> test<span class="punctuation">:</span> /\.jpg|png|gif$/<span class="punctuation">,</span> use<span class="punctuation">:</span> &#x27;url-loader?limit=<span class="number">22229</span>&#x27;<span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>其中 <code>?</code> 之后的是 <strong>loader 的参数项</strong>： </p>
<ul>
<li>limit 用来指定图片的大小，单位是<strong>字节</strong>（byte） </li>
<li>只有 <strong>≤</strong> limit 大小的图片，才会被转为 <strong>base64</strong> 格式的图片</li>
</ul>
<h2 id="打包处理-js-文件中的高级语法"><a href="#打包处理-js-文件中的高级语法" class="headerlink" title="打包处理 js 文件中的高级语法"></a><strong>打包处理 js 文件中的高级语法</strong></h2><p><code>webpack</code> 只能打包处理一部分高级的 <code>JavaScript</code> 语法。对于那些 <code>webpack</code> 无法处理的<code>高级 js 语法</code>，需要借</p>
<p>助于 <code>babel-loader</code> 进行打包处理。例如 webpack 无法处理下面的 JavaScript 代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义了名为 info 的装饰器</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">info</span>(<span class="params">target</span>) &#123;</span><br><span class="line">	<span class="comment">// 为目标添加静态属性 info</span></span><br><span class="line">	target.<span class="property">info</span> = <span class="string">&#x27;Person info&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 为 Person 类应用 info 装饰器</span></span><br><span class="line">@info</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;&#125;</span><br><span class="line"><span class="comment">// 打印 Person 的静态属性 info</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property">info</span>)</span><br></pre></td></tr></table></figure>

<h3 id="安装-babel-loader-相关的包"><a href="#安装-babel-loader-相关的包" class="headerlink" title="安装 babel-loader 相关的包"></a><strong>安装 babel-loader 相关的包</strong></h3><p>运行如下的命令安装对应的依赖包：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i babel-loader@8.2.2 @babel/core@7.14.6 @babel/plugin-proposal-decorators@7.14.5 -D </span><br></pre></td></tr></table></figure>

<p>在 <code>webpack.config.js</code> 的 <code>module -&gt; rules</code> 数组中，添加 <code>loader</code> 规则如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注意:必须使用 exclude 指定排除项;因为 node_modules 目录下的第三方包不需要被打包</span></span><br><span class="line"><span class="punctuation">&#123;</span> test<span class="punctuation">:</span> /\.js$/<span class="punctuation">,</span> use<span class="punctuation">:</span> &#x27;babel-loader&#x27;<span class="punctuation">,</span> exclude<span class="punctuation">:</span> /node_modules/<span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="配置-babel-loader"><a href="#配置-babel-loader" class="headerlink" title="配置 babel-loader"></a><strong>配置 babel-loader</strong></h3><p>在项目<strong>根目录</strong>下，创建名为 <code>babel.config.js</code> 的配置文件，定义 <code>Babel</code> 的配置项如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// 声明 babel 可用的插件</span></span><br><span class="line">    <span class="attr">plugins</span>: [[<span class="string">&#x27;@babel/plugin-proposal-decorators&#x27;</span>, &#123; <span class="attr">legacy</span>: <span class="literal">true</span>&#125;]]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Babel 的官网 ：<a target="_blank" rel="noopener" href="https://babeljs.io/docs/en/babel-plugin-proposal-decorators">https://babeljs.io/docs/en/babel-plugin-proposal-decorators</a></p>
<h1 id="打包发布"><a href="#打包发布" class="headerlink" title="打包发布"></a><strong>打包发布</strong></h1><h2 id="为什么要打包发布"><a href="#为什么要打包发布" class="headerlink" title="为什么要打包发布"></a><strong>为什么要打包发布</strong></h2><p>项目开发完成之后，需要使用 <code>webpack</code> 对项目进行打包发布，主要原因有以下两点：</p>
<ul>
<li>开发环境下，打包生成的文件存放于<strong>内存</strong>中，无法获取到最终打包生成的文件</li>
<li>开发环境下，打包生成的文件不会进行<strong>代码压缩</strong>和<strong>性能优化</strong></li>
</ul>
<p>为了让项目能够在生产环境中高性能的运行，因此需要对项目进行打包发布。</p>
<h2 id="配置-webpack-的打包发布"><a href="#配置-webpack-的打包发布" class="headerlink" title="配置 webpack 的打包发布"></a><strong>配置 webpack 的打包发布</strong></h2><p>在 <code>package.json</code> 文件的 <code>scripts</code> 节点下，新增 <code>build</code> 命令如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack serve&quot;</span><span class="punctuation">,</span> <span class="comment">// 开发环境中，运行 dev 命令</span></span><br><span class="line">  <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack --mode production&quot;</span> <span class="comment">// 项目发布时，运行 build 命令</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p><code>--model</code> 是一个参数项，用来指定 <code>webpack</code> 的<strong>运行模式</strong>。<code>production</code> 代表生产环境，会对打包生成的文件进行代码压缩和性能优化。</p>
<p>注意：通过 –model 指定的参数项，会<strong>覆盖</strong> <code>webpack.config.js</code> 中的 <code>model</code> 选项。</p>
<h2 id="把-JavaScript-文件统一生成到-js-目录中"><a href="#把-JavaScript-文件统一生成到-js-目录中" class="headerlink" title="把 JavaScript 文件统一生成到 js 目录中"></a><strong>把 JavaScript 文件统一生成到 js 目录中</strong></h2><p>在 <code>webpack.config.js</code> 配置文件的 <code>output</code> 节点中，进行如下的配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;./dist&#x27;</span>), <span class="comment">// 输出文件的存放路径</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;js/bundle.js&#x27;</span> <span class="comment">// 输出文件的名称</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="把图片文件统一生成到-images-目录中"><a href="#把图片文件统一生成到-images-目录中" class="headerlink" title="把图片文件统一生成到 images 目录中"></a><strong>把图片文件统一生成到 images 目录中</strong></h2><p>修改 <code>webpack.config.js</code> 中的 <code>module -&gt; rules</code> 数组的 <code>url-loader</code> 配置项，新增 <code>outputPath</code> 参数即可指定图片文件的输出路径：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">test</span>: <span class="regexp">/\.jpg|png|gif$/</span>, <span class="attr">use</span>: <span class="string">&#x27;url-loader?limit=22229&amp;outputPath=images&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<h2 id="自动清理-dist-目录下的旧文件"><a href="#自动清理-dist-目录下的旧文件" class="headerlink" title="自动清理 dist 目录下的旧文件"></a><strong>自动清理 dist 目录下的旧文件</strong></h2><p>为了在每次打包发布时<strong>自动清理</strong>掉 <code>dist</code> 目录中的旧文件，可以安装并配置 <code>clean-webpack-plugin</code> 插件</p>
<h3 id="安装clean-webpack-plugin"><a href="#安装clean-webpack-plugin" class="headerlink" title="安装clean-webpack-plugin"></a>安装<code>clean-webpack-plugin</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i clean-webpack-plugin -D</span><br></pre></td></tr></table></figure>

<h2 id="配置使用clean-webpack-plugin"><a href="#配置使用clean-webpack-plugin" class="headerlink" title="配置使用clean-webpack-plugin"></a>配置使用<code>clean-webpack-plugin</code></h2><p>①在 <code>webpack.config.js</code> 中的导入<code>clean-webpack-plugin</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">CleanWebpackPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>②在 <code>webpack.config.js</code> 中的 <code>module.exports</code> 节点下的 <code>plugins</code>中 <code>new CleanWebpackPlugin</code>()</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">plugins</span>: [htmlPlugin, <span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>()], </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Source-Map"><a href="#Source-Map" class="headerlink" title="Source Map"></a><strong>Source Map</strong></h1><h2 id="什么是-Source-Map"><a href="#什么是-Source-Map" class="headerlink" title="什么是 Source Map"></a><strong>什么是 Source Map</strong></h2><p><code>Source Map</code> 就是一个信息文件，里面储存着<strong>位置信息</strong>。也就是说，Source Map 文件中存储着压缩混淆后的</p>
<p>代码，所对应的转换前的位置。</p>
<p>有了它，出错的时候，除错工具将直接<strong>显示原始代码</strong>，而不是转换后的代码，能够极大的方便后期的调试。</p>
<h2 id="webpack-开发环境下的-Source-Map"><a href="#webpack-开发环境下的-Source-Map" class="headerlink" title="webpack 开发环境下的 Source Map"></a><strong>webpack</strong> <strong>开发环境下的</strong> <strong>Source Map</strong></h2><p>在开发环境下，<code>webpack</code> 默认启用了 <code>Source Map</code> 功能。当程序运行出错时，可以直接在控制台提示错误行</p>
<p>的位置，并定位到具体的源代码。</p>
<h3 id="默认-Source-Map-的问题"><a href="#默认-Source-Map-的问题" class="headerlink" title="默认 Source Map 的问题"></a><strong>默认 Source Map 的问题</strong></h3><p>开发环境下默认生成的 <code>Source Map</code>，记录的是<strong>生成后的代码的位置</strong>。会导致运行时报错的行数与源代码的行数不一致的问题。</p>
<h3 id="解决默认-Source-Map-的问题"><a href="#解决默认-Source-Map-的问题" class="headerlink" title="解决默认 Source Map 的问题"></a><strong>解决默认 Source Map 的问题</strong></h3><p>开发环境下，推荐在 <code>webpack.config.js</code> 中添加如下的配置，即可保证运行时报错的行数与源代码的行数</p>
<p>保持一致</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    <span class="attr">devtool</span>: <span class="string">&#x27;eval-source-map&#x27;</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="webpack-生产环境下的-Source-Map"><a href="#webpack-生产环境下的-Source-Map" class="headerlink" title="webpack 生产环境下的 Source Map"></a><strong>webpack</strong> <strong>生产环境下的</strong> <strong>Source Map</strong></h2><p>在生产环境下，如果省略了 devtool 选项，则最终生成的文件中不包含 <code>Source Map</code>。这能够防止原始代码通 过 Source Map 的形式暴露给其他人。</p>
<h3 id="只定位行数不暴露源码"><a href="#只定位行数不暴露源码" class="headerlink" title="只定位行数不暴露源码"></a><strong>只定位行数不暴露源码</strong></h3><p>在生产环境下，如果<strong>只想定位报错的具体行数</strong>，<strong>且不想暴露源码</strong>。此时可以将 <code>devtool</code> 的值设置为</p>
<p><code>nosources-source-map</code>。</p>
<h3 id="定位行数且暴露源码"><a href="#定位行数且暴露源码" class="headerlink" title="定位行数且暴露源码"></a><strong>定位行数且暴露源码</strong></h3><p>在生产环境下，如果想在<strong>定位报错行数</strong>的同时，<strong>展示具体报错的源码</strong>。此时可以将 <code>devtool</code> 的值设置为</p>
<p><code>source-map</code>。（不推荐）</p>
<h2 id="Source-Map-的最佳实践"><a href="#Source-Map-的最佳实践" class="headerlink" title="Source Map 的最佳实践"></a><strong>Source Map 的最佳实践</strong></h2><p>① 开发环境下：</p>
<ul>
<li>建议把 <code>devtool</code> 的值设置为 <code>eval-source-map</code></li>
<li>好处：可以精准定位到具体的错误行</li>
</ul>
<p>② 生产环境下：</p>
<ul>
<li>建议关闭 <code>Source Map</code> 或将 <code>devtool</code> 的值设置为 <code>nosources-source-map</code></li>
<li>好处：防止源码泄露，提高网站的安全性</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>webpack</p><p><a href="https://summl.github.io/2022/07/29/webpack/">https://summl.github.io/2022/07/29/webpack/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Summl</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2022-07-29</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2022-07-29</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/webpack/">webpack</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2022/08/07/Vue2/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Vue2</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022/07/28/JavaScript%E7%9A%84%E4%B8%80%E4%BA%9B%E5%AD%A6%E4%B9%A0/"><span class="level-item">JavaScript的一些学习</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Summl"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Summl</p><p class="is-size-6 is-block">一枚无名小辈</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>中国</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">11</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">15</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://Summl.github.io/" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://Summl.github.io/"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#webpack的基本使用"><span class="level-left"><span class="level-item">1</span><span class="level-item">webpack的基本使用</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#什么是-webpack"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">什么是 webpack</span></span></a></li><li><a class="level is-mobile" href="#创建列表隔行变色项目"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">创建列表隔行变色项目</span></span></a></li><li><a class="level is-mobile" href="#在项目中安装-webpack"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">在项目中安装 webpack</span></span></a></li><li><a class="level is-mobile" href="#在项目中配置-webpack"><span class="level-left"><span class="level-item">1.4</span><span class="level-item">在项目中配置 webpack</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#mode-的可选值"><span class="level-left"><span class="level-item">1.4.1</span><span class="level-item">mode 的可选值</span></span></a></li><li><a class="level is-mobile" href="#webpack-config-js-文件的作用"><span class="level-left"><span class="level-item">1.4.2</span><span class="level-item">webpack.config.js 文件的作用</span></span></a></li><li><a class="level is-mobile" href="#webpack-中的默认约定"><span class="level-left"><span class="level-item">1.4.3</span><span class="level-item">webpack 中的默认约定</span></span></a></li><li><a class="level is-mobile" href="#自定义打包的入口与出口"><span class="level-left"><span class="level-item">1.4.4</span><span class="level-item">自定义打包的入口与出口</span></span></a></li></ul></li><li><a class="level is-mobile" href="#webpack-中的插件"><span class="level-left"><span class="level-item">1.5</span><span class="level-item">webpack 中的插件</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#webpack-插件的作用"><span class="level-left"><span class="level-item">1.5.1</span><span class="level-item">webpack 插件的作用</span></span></a></li><li><a class="level is-mobile" href="#webpack-dev-server"><span class="level-left"><span class="level-item">1.5.2</span><span class="level-item">webpack-dev-server</span></span></a></li><li><a class="level is-mobile" href="#html-webpack-plugin"><span class="level-left"><span class="level-item">1.5.3</span><span class="level-item">html-webpack-plugin</span></span></a></li><li><a class="level is-mobile" href="#devServer-节点"><span class="level-left"><span class="level-item">1.5.4</span><span class="level-item">devServer 节点</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#webpack-中的-loader"><span class="level-left"><span class="level-item">2</span><span class="level-item">webpack 中的 loader</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#loader-概述"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">loader 概述</span></span></a></li><li><a class="level is-mobile" href="#打包处理-css-文件"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">打包处理 css 文件</span></span></a></li><li><a class="level is-mobile" href="#打包处理-less-文件"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">打包处理 less 文件</span></span></a></li><li><a class="level is-mobile" href="#打包处理样式表中与-url-路径相关的文件"><span class="level-left"><span class="level-item">2.4</span><span class="level-item">打包处理样式表中与 url 路径相关的文件</span></span></a></li><li><a class="level is-mobile" href="#打包处理-js-文件中的高级语法"><span class="level-left"><span class="level-item">2.5</span><span class="level-item">打包处理 js 文件中的高级语法</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#安装-babel-loader-相关的包"><span class="level-left"><span class="level-item">2.5.1</span><span class="level-item">安装 babel-loader 相关的包</span></span></a></li><li><a class="level is-mobile" href="#配置-babel-loader"><span class="level-left"><span class="level-item">2.5.2</span><span class="level-item">配置 babel-loader</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#打包发布"><span class="level-left"><span class="level-item">3</span><span class="level-item">打包发布</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#为什么要打包发布"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">为什么要打包发布</span></span></a></li><li><a class="level is-mobile" href="#配置-webpack-的打包发布"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">配置 webpack 的打包发布</span></span></a></li><li><a class="level is-mobile" href="#把-JavaScript-文件统一生成到-js-目录中"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">把 JavaScript 文件统一生成到 js 目录中</span></span></a></li><li><a class="level is-mobile" href="#把图片文件统一生成到-images-目录中"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">把图片文件统一生成到 images 目录中</span></span></a></li><li><a class="level is-mobile" href="#自动清理-dist-目录下的旧文件"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">自动清理 dist 目录下的旧文件</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#安装clean-webpack-plugin"><span class="level-left"><span class="level-item">3.5.1</span><span class="level-item">安装clean-webpack-plugin</span></span></a></li></ul></li><li><a class="level is-mobile" href="#配置使用clean-webpack-plugin"><span class="level-left"><span class="level-item">3.6</span><span class="level-item">配置使用clean-webpack-plugin</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Source-Map"><span class="level-left"><span class="level-item">4</span><span class="level-item">Source Map</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#什么是-Source-Map"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">什么是 Source Map</span></span></a></li><li><a class="level is-mobile" href="#webpack-开发环境下的-Source-Map"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">webpack 开发环境下的 Source Map</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#默认-Source-Map-的问题"><span class="level-left"><span class="level-item">4.2.1</span><span class="level-item">默认 Source Map 的问题</span></span></a></li><li><a class="level is-mobile" href="#解决默认-Source-Map-的问题"><span class="level-left"><span class="level-item">4.2.2</span><span class="level-item">解决默认 Source Map 的问题</span></span></a></li></ul></li><li><a class="level is-mobile" href="#webpack-生产环境下的-Source-Map"><span class="level-left"><span class="level-item">4.3</span><span class="level-item">webpack 生产环境下的 Source Map</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#只定位行数不暴露源码"><span class="level-left"><span class="level-item">4.3.1</span><span class="level-item">只定位行数不暴露源码</span></span></a></li><li><a class="level is-mobile" href="#定位行数且暴露源码"><span class="level-left"><span class="level-item">4.3.2</span><span class="level-item">定位行数且暴露源码</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Source-Map-的最佳实践"><span class="level-left"><span class="level-item">4.4</span><span class="level-item">Source Map 的最佳实践</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://gitee.com/ma-jia-le" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">gitee</span></span><span class="level-right"><span class="level-item tag">gitee.com</span></span></a></li><li><a class="level is-mobile" href="1870949565@qq.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Email</span></span><span class="level-right"><span class="level-item tag">1870949565@qq.com</span></span></a></li><li><a class="level is-mobile" href="https://juejin.cn/user/4002677701488424" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">稀土掘金</span></span><span class="level-right"><span class="level-item tag">juejin.cn</span></span></a></li><li><a class="level is-mobile" href="https://www.jianshu.com/u/8121c6bc7a9a" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">简书</span></span><span class="level-right"><span class="level-item tag">www.jianshu.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><figure class="media-left"><a class="image" href="/2022/08/16/ES6%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%8E%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/"><img src="/gallery/ES6%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%8E%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/%E5%9B%BE1.jpg" alt="ES6模块化与异步编程高级用法"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-08-16T09:53:20.000Z">2022-08-16</time></p><p class="title"><a href="/2022/08/16/ES6%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%8E%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/">ES6模块化与异步编程高级用法</a></p><p class="categories"><a href="/categories/ES6/">ES6</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2022/08/07/Vue2/"><img src="/gallery/Vue2/%E5%9B%BE1.jpg" alt="Vue2"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-08-07T11:27:29.000Z">2022-08-07</time></p><p class="title"><a href="/2022/08/07/Vue2/">Vue2</a></p><p class="categories"><a href="/categories/Vue/">Vue</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2022/07/29/webpack/"><img src="/gallery/webpack/%E5%9B%BE1.jpg" alt="webpack"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-07-29T09:47:29.000Z">2022-07-29</time></p><p class="title"><a href="/2022/07/29/webpack/">webpack</a></p><p class="categories"><a href="/categories/webpack/">webpack</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2022/07/28/JavaScript%E7%9A%84%E4%B8%80%E4%BA%9B%E5%AD%A6%E4%B9%A0/"><img src="/gallery/JavaScript%E7%9A%84%E4%B8%80%E4%BA%9B%E5%AD%A6%E4%B9%A0/%E5%9B%BE1.jpg" alt="JavaScript的一些学习"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-07-28T11:34:09.000Z">2022-07-28</time></p><p class="title"><a href="/2022/07/28/JavaScript%E7%9A%84%E4%B8%80%E4%BA%9B%E5%AD%A6%E4%B9%A0/">JavaScript的一些学习</a></p><p class="categories"><a href="/categories/JavaScript/">JavaScript</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2022/07/27/%E8%A7%A3%E5%86%B3%E4%B8%8D%E8%83%BD%E5%8A%A0%E8%BD%BDwebpack-cli%E9%97%AE%E9%A2%98/"><img src="/gallery/%E8%A7%A3%E5%86%B3%E4%B8%8D%E8%83%BD%E5%8A%A0%E8%BD%BDwebpack-cli%E9%97%AE%E9%A2%98/%E5%9B%BE1.jpg" alt="解决不能加载webpack-cli问题"></a></figure><div class="media-content"><p class="date"><time dateTime="2022-07-27T11:31:50.000Z">2022-07-27</time></p><p class="title"><a href="/2022/07/27/%E8%A7%A3%E5%86%B3%E4%B8%8D%E8%83%BD%E5%8A%A0%E8%BD%BDwebpack-cli%E9%97%AE%E9%A2%98/">解决不能加载webpack-cli问题</a></p><p class="categories"><a href="/categories/webpack/">webpack</a></p></div></article></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/ES6/"><span class="level-start"><span class="level-item">ES6</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JSON/"><span class="level-start"><span class="level-item">JSON</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JavaScript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Node-js/"><span class="level-start"><span class="level-item">Node.js</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Vue/"><span class="level-start"><span class="level-item">Vue</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/webpack/"><span class="level-start"><span class="level-item">webpack</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%85%B3%E4%BA%8E%E5%8D%9A%E5%AE%A2/"><span class="level-start"><span class="level-item">关于博客</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/"><span class="level-start"><span class="level-item">前端</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">八月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">七月 2022</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ES6/"><span class="tag">ES6</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GitHub/"><span class="tag">GitHub</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JSON/"><span class="tag">JSON</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MySQL/"><span class="tag">MySQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Promise/"><span class="tag">Promise</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vue/"><span class="tag">Vue</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/npm/"><span class="tag">npm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/webpack/"><span class="tag">webpack</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF/"><span class="tag">前端</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BC%82%E6%AD%A5/"><span class="tag">异步</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%87%AA%E5%BB%BA%E5%8C%85/"><span class="tag">自建包</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%B7%AF%E7%94%B1/"><span class="tag">路由</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0/"><span class="tag">高阶函数</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">SummlBlog</a><p class="is-size-7"><span>&copy; 2022 Summl</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="My GitHub" href="https://github.com/Summl"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>